" vim: set ft=vimperator:
"2.3.1 (created: 2010/04/07 18:25:13)

" http://dactyl.sourceforge.net/help/pentadactyl/options.xhtml

colorscheme sagotsky2

set editor="xterm -e /usr/bin/vim"
"m menu, T toolbar, B bookmark, n tab number, N tab number over icon, brl scrollbars
set guioptions=bCrsNMc 
set visualbell
"set strictfocus
set autocomplete=
set maxitems=12

" opens sidebar page, which is defaulted to my gtasks somehow
"com     todo    :sidebar MultiPanel

cnoremap <C-g> <Esc>
nnoremap <C-r> reloadall<CR>

" tabrename command
com tabrename -nargs=1 -literal=0 -js content.document.title = args[0];

autocmd DOMLoad '^https://redmine.hmdc.harvard.edu/issues/.*' -js <<EOF
  doc.title = doc.title.replace(/OpenScholar - \w+ /, '');
EOF

" move the RSS icon from the now-hidden location bar to the status bar instead
javascript <<EOF
(function(){
  var feedPanel = document.createElement("statusbarpanel");
  feedPanel.setAttribute("id", "feed-panel-clone");
  feedPanel.appendChild(document.getElementById("feed-button"));
  feedPanel.firstChild.setAttribute("style", "padding: 0; max-height: 16px;");
  document.getElementById("status-bar")
  .insertBefore(feedPanel, document.getElementById("security-button"));
})();
EOF
